<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã–dev YÃ¶netimi</title>
  <link rel="stylesheet" href="styles/styles.css">
</head>
<body>
  <header>
    <div class="logo">Ã–dev Sistemi</div>
    <nav id="mainNav">
      <ul>
        <!-- Navigation links will be dynamically loaded here -->
      </ul>
    </nav>
  </header>

  <section class="dashboard" id="assignmentsPage">
    <h1>Ã–dev ModÃ¼lÃ¼</h1>

    <div class="section hidden" id="studentAssignmentsSection">
      <h2>Ã–devlerim</h2>
      <p>KayÄ±tlÄ± olduÄŸunuz sÄ±nÄ±flara ait Ã¶devler burada listelenir.</p>
      <div id="studentAssignmentsList" class="assignment-list">YÃ¼kleniyor...</div>
      
      <!-- Ã–dev Teslim Modal -->
      <div id="submissionModal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Ã–dev Teslim Et</h3>
            <button id="closeSubmissionModal" class="close-btn">&times;</button>
          </div>
          <form id="submissionForm">
            <input type="hidden" id="submissionAssignmentId">
            <div class="form-group">
              <label>Ã–dev:</label>
              <p id="submissionAssignmentTitle" class="assignment-title-display"></p>
            </div>
            <div class="form-group">
              <label for="submissionFileInput">Dosya SeÃ§in (PDF, JPG, PNG):</label>
              <input type="file" id="submissionFileInput" accept=".pdf,.jpg,.jpeg,.png" required>
              <small>Maksimum 10MB</small>
            </div>
            <div class="form-group">
              <label for="submissionGroupId">Grup ID (Sadece grup Ã¶devleri iÃ§in):</label>
              <input type="text" id="submissionGroupId" placeholder="BoÅŸ bÄ±rakabilirsiniz">
              <small>Grup Ã¶devi deÄŸilse boÅŸ bÄ±rakÄ±n</small>
            </div>
            <div class="form-group">
              <label for="submissionComments">Yorum (Opsiyonel):</label>
              <textarea id="submissionComments" rows="3" placeholder="Ã–dev hakkÄ±nda eklemek istediÄŸiniz notlar..."></textarea>
            </div>
            <div id="submissionResult"></div>
            <div class="modal-actions">
              <button type="button" id="cancelSubmission" class="btn-secondary">Ä°ptal</button>
              <button type="submit" class="btn-primary">Teslim Et</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="section hidden" id="teacherAssignmentsSection">
      <h2>ğŸ“ Ã–dev OluÅŸtur ve YÃ¶net</h2>
      
      <div class="create-assignment-card">
        <h3>Yeni Ã–dev OluÅŸtur</h3>
        <form id="assignmentForm" enctype="multipart/form-data">
          <div class="form-row">
            <div class="form-group">
              <label for="assignmentClassSelect">Ders *</label>
              <select id="assignmentClassSelect" required>
                <option value="">Ders seÃ§iniz</option>
              </select>
            </div>
            <div class="form-group">
              <label for="assignmentTypeSelect">Ã–dev TÃ¼rÃ¼ *</label>
              <select id="assignmentTypeSelect" required>
                <option value="1">Bireysel Ã–dev</option>
                <option value="2">Grup Ã–devi</option>
              </select>
            </div>
          </div>
          
          <div class="form-group">
            <label for="assignmentTitle">Ã–dev BaÅŸlÄ±ÄŸÄ± *</label>
            <input type="text" id="assignmentTitle" placeholder="Ã–rn: Matematik Final Ã–devi" required>
          </div>
          
          <div class="form-group">
            <label for="assignmentDescription">Ã–dev AÃ§Ä±klamasÄ± *</label>
            <textarea id="assignmentDescription" placeholder="Ã–dev detaylarÄ±nÄ± buraya yazÄ±n..." rows="5" required></textarea>
          </div>
          
          <div class="form-group">
            <label for="assignmentAttachmentFile">Ek Dosya (Opsiyonel)</label>
            <div class="file-upload-wrapper">
              <input type="file" id="assignmentAttachmentFile" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx,.zip,.rar">
              <label for="assignmentAttachmentFile" class="file-upload-label">
                <span class="file-upload-icon">ğŸ“</span>
                <span class="file-upload-text">Dosya seÃ§in (PDF, Word, Resim, ZIP - Max 20MB)</span>
              </label>
              <div id="assignmentFilePreview" class="file-preview hidden"></div>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="assignmentDueDate">Son Teslim Tarihi *</label>
              <input type="datetime-local" id="assignmentDueDate" required>
            </div>
            <div class="form-group">
              <label for="assignmentMaxScore">Maksimum Puan *</label>
              <input type="number" id="assignmentMaxScore" placeholder="100" min="1" max="1000" value="100" required>
            </div>
          </div>
          
          <div class="form-row checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="allowLate">
              <span>GeÃ§ teslim izin ver</span>
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="allowResubmission">
              <span>Yeniden teslim izin ver</span>
            </label>
          </div>
          
          <button type="submit" class="btn-primary submit-btn-large">
            <span>âœ¨ Ã–dev OluÅŸtur</span>
          </button>
        </form>
        <div id="assignmentFormResult"></div>
      </div>

      <div class="section">
        <div class="form-row">
          <select id="teacherClassFilter">
            <option value="">SÄ±nÄ±f seÃ§erek Ã¶devleri gÃ¶rÃ¼ntÃ¼leyin</option>
          </select>
          <button id="refreshAssignmentsButton" type="button">Listeyi Yenile</button>
        </div>
        <div id="teacherAssignmentsList" class="assignment-list">SÄ±nÄ±f seÃ§iniz...</div>
      </div>
    </div>
  </section>

  <footer>
    <p>&copy; 2025 Ã–dev Sistemi</p>
  </footer>

  <script src="authUtils.js"></script>
  <script src="navigation.js"></script>
  <script src="assignments.js"></script>
</body>
</html>
